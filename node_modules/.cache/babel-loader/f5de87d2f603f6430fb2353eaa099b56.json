{"ast":null,"code":"import _slicedToArray from \"/Users/tomgerhardt/Dropbox/TOM/Web3 Consulting/Node Nation/DAG Nation/shuffle 042622/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useReducer } from 'react';\nimport { BlockNumberContext } from './context';\nimport { blockNumberReducer } from '../common/reducer';\nimport { useDebounce, useEthers } from '../../../hooks';\nimport { subscribeToNewBlock } from '../common/subscribeToNewBlock';\n/**\n * @internal Intended for internal use - use it on your own risk\n */\n\nexport function BlockNumberProvider(_ref) {\n  var children = _ref.children;\n\n  var _useEthers = useEthers(),\n      library = _useEthers.library,\n      chainId = _useEthers.chainId;\n\n  var _useReducer = useReducer(blockNumberReducer, {}),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  useEffect(function () {\n    return subscribeToNewBlock(library, chainId, dispatch);\n  }, [library, chainId]);\n  var debouncedState = useDebounce(state, 100);\n  var blockNumber = chainId !== undefined ? debouncedState[chainId] : undefined;\n  return _jsx(BlockNumberContext.Provider, {\n    value: blockNumber,\n    children: children\n  });\n}","map":{"version":3,"mappings":";;AAAA,SAAoBA,SAApB,EAA+BC,UAA/B,QAAiD,OAAjD;AACA,SAASC,kBAAT,QAAmC,WAAnC;AACA,SAASC,kBAAT,QAAmC,mBAAnC;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,gBAAvC;AACA,SAASC,mBAAT,QAAoC,+BAApC;AAMA;;;;AAGA,OAAM,SAAUC,mBAAV,OAAiD;AAAA,MAAjBC,QAAiB,QAAjBA,QAAiB;;AACrD,mBAA6BH,SAAS,EAAtC;AAAA,MAAQI,OAAR,cAAQA,OAAR;AAAA,MAAiBC,OAAjB,cAAiBA,OAAjB;;AACA,oBAA0BT,UAAU,CAACE,kBAAD,EAAqB,EAArB,CAApC;AAAA;AAAA,MAAOQ,KAAP;AAAA,MAAcC,QAAd;;AAEAZ,WAAS,CAAC;AAAA,WAAMM,mBAAmB,CAACG,OAAD,EAAUC,OAAV,EAAmBE,QAAnB,CAAzB;AAAA,GAAD,EAAwD,CAACH,OAAD,EAAUC,OAAV,CAAxD,CAAT;AAEA,MAAMG,cAAc,GAAGT,WAAW,CAACO,KAAD,EAAQ,GAAR,CAAlC;AACA,MAAMG,WAAW,GAAGJ,OAAO,KAAKK,SAAZ,GAAwBF,cAAc,CAACH,OAAD,CAAtC,GAAkDK,SAAtE;AAEA,SAAOC,KAACd,kBAAkB,CAACe,QAApB,EAA4B;AAACC,SAAK,EAAEJ,WAAR;AAAqBN,YAAQ,EAAEA;AAA/B,GAA5B,CAAP;AACD","names":["useEffect","useReducer","BlockNumberContext","blockNumberReducer","useDebounce","useEthers","subscribeToNewBlock","BlockNumberProvider","children","library","chainId","state","dispatch","debouncedState","blockNumber","undefined","_jsx","Provider","value"],"sources":["../../../../../../src/providers/blockNumber/blockNumber/provider.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}