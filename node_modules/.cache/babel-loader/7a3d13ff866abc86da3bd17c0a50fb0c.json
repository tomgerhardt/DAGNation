{"ast":null,"code":"import _slicedToArray from \"/Users/tomgerhardt/Dropbox/TOM/Web3 Consulting/Node Nation/DAG Nation/shuffle 042622/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _asyncToGenerator from \"/Users/tomgerhardt/Dropbox/TOM/Web3 Consulting/Node Nation/DAG Nation/shuffle 042622/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/Users/tomgerhardt/Dropbox/TOM/Web3 Consulting/Node Nation/DAG Nation/shuffle 042622/node_modules/@babel/runtime/regenerator/index.js\";\nimport { Contract } from '@ethersproject/contracts';\nvar ABI = ['function tryAggregate(bool requireSuccess, tuple(address target, bytes callData)[] calls) public view returns (tuple(bool success, bytes returnData)[])'];\n/**\n * @public\n */\n\nexport function multicall2(_x, _x2, _x3, _x4) {\n  return _multicall.apply(this, arguments);\n}\n\nfunction _multicall() {\n  _multicall = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(provider, address, blockNumber, requests) {\n    var _a, contract, results, state, i, _requests$i, _address, data, _results$i, success, value, stateForAddress;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(requests.length === 0)) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {});\n\n          case 2:\n            contract = new Contract(address, ABI, provider);\n            _context.next = 5;\n            return contract.tryAggregate(false, requests.map(function (_ref) {\n              var address = _ref.address,\n                  data = _ref.data;\n              return [address, data];\n            }), {\n              blockTag: blockNumber\n            });\n\n          case 5:\n            results = _context.sent;\n            state = {};\n\n            for (i = 0; i < requests.length; i++) {\n              _requests$i = requests[i], _address = _requests$i.address, data = _requests$i.data;\n              _results$i = _slicedToArray(results[i], 2), success = _results$i[0], value = _results$i[1];\n              stateForAddress = (_a = state[_address]) !== null && _a !== void 0 ? _a : {};\n              stateForAddress[data] = {\n                success: success,\n                value: value\n              };\n              state[_address] = stateForAddress;\n            }\n\n            return _context.abrupt(\"return\", state);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _multicall.apply(this, arguments);\n}","map":{"version":3,"mappings":";;;AAAA,SAASA,QAAT,QAAyB,0BAAzB;AAKA,IAAMC,GAAG,GAAG,CACV,yJADU,CAAZ;AAIA;;;;AAGA,gBAAsBC,UAAtB;AAAA;AAAA;;;wEAAO,iBACLC,QADK,EAELC,OAFK,EAGLC,WAHK,EAILC,QAJK;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMDA,QAAQ,CAACC,MAAT,KAAoB,CANnB;AAAA;AAAA;AAAA;;AAAA,6CAOI,EAPJ;;AAAA;AASCC,oBATD,GASY,IAAIR,QAAJ,CAAaI,OAAb,EAAsBH,GAAtB,EAA2BE,QAA3B,CATZ;AAAA;AAAA,mBAUsCK,QAAQ,CAACC,YAAT,CACzC,KADyC,EAEzCH,QAAQ,CAACI,GAAT,CAAa;AAAA,kBAAGN,OAAH,QAAGA,OAAH;AAAA,kBAAYO,IAAZ,QAAYA,IAAZ;AAAA,qBAAuB,CAACP,OAAD,EAAUO,IAAV,CAAvB;AAAA,aAAb,CAFyC,EAGzC;AAAEC,sBAAQ,EAAEP;AAAZ,aAHyC,CAVtC;;AAAA;AAUCQ,mBAVD;AAeCC,iBAfD,GAeqB,EAfrB;;AAgBL,iBAASC,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAGT,QAAQ,CAACC,MAA7B,EAAqCQ,CAAC,EAAtC,EAA0C;AAAA,4BACdT,QAAQ,CAACS,CAAD,CADM,EAChCX,QADgC,eAChCA,OADgC,EACvBO,IADuB,eACvBA,IADuB;AAAA,0CAEfE,OAAO,CAACE,CAAD,CAFQ,MAEjCC,OAFiC,kBAExBC,KAFwB;AAGlCC,6BAHkC,GAGhB,WAAK,CAACd,QAAD,CAAL,MAAc,IAAd,IAAce,aAAd,GAAcA,EAAd,GAAkB,EAHF;AAIxCD,6BAAe,CAACP,IAAD,CAAf,GAAwB;AAAEK,uBAAO,EAAPA,OAAF;AAAWC,qBAAK,EAALA;AAAX,eAAxB;AACAH,mBAAK,CAACV,QAAD,CAAL,GAAiBc,eAAjB;AACD;;AAtBI,6CAuBEJ,KAvBF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","names":["Contract","ABI","multicall2","provider","address","blockNumber","requests","length","contract","tryAggregate","map","data","blockTag","results","state","i","success","value","stateForAddress","_a"],"sources":["../../../../../../src/providers/chainState/common/multicall2.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}