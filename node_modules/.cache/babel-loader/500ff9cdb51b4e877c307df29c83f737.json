{"ast":null,"code":"export function subscribeToProviderEvents(provider, onUpdate, onDisconnect) {\n  if (provider === null || provider === void 0 ? void 0 : provider.on) {\n    var onConnectListener = function onConnectListener(info) {\n      if (info === null || info === void 0 ? void 0 : info.chainId) {\n        onUpdate({\n          chainId: Number(info.chainId)\n        });\n      }\n    };\n\n    provider.on('connect', onConnectListener);\n\n    var onDisconnectListener = function onDisconnectListener(error) {\n      onDisconnect(new Error(error));\n    };\n\n    provider.on('disconnect', onDisconnectListener);\n\n    var onChainChangedListener = function onChainChangedListener(chainId) {\n      onUpdate({\n        chainId: Number(chainId)\n      });\n    };\n\n    provider.on('chainChanged', onChainChangedListener);\n\n    var onAccountsChangedListener = function onAccountsChangedListener(accounts) {\n      onUpdate({\n        accounts: accounts\n      });\n    };\n\n    provider.on('accountsChanged', onAccountsChangedListener);\n    return function () {\n      provider.removeListener('connect', onConnectListener);\n      provider.removeListener('disconnect', onDisconnectListener);\n      provider.removeListener('chainChanged', onChainChangedListener);\n      provider.removeListener('accountsChanged', onAccountsChangedListener);\n    };\n  }\n\n  return function () {\n    return undefined;\n  };\n}","map":{"version":3,"mappings":"AAGA,OAAM,SAAUA,yBAAV,CACJC,QADI,EAEJC,QAFI,EAGJC,YAHI,EAGgC;AAEpC,MAAIF,QAAQ,SAAR,YAAQ,WAAR,GAAQ,MAAR,WAAQ,CAAEG,EAAd,EAAkB;AAChB,QAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,IAAD,EAAgD;AACxE,UAAIA,IAAI,SAAJ,QAAI,WAAJ,GAAI,MAAJ,OAAI,CAAEC,OAAV,EAAmB;AACjBL,gBAAQ,CAAC;AAAEK,iBAAO,EAAEC,MAAM,CAACF,IAAI,CAACC,OAAN;AAAjB,SAAD,CAAR;AACD;AACF,KAJD;;AAKAN,YAAQ,CAACG,EAAT,CAAY,SAAZ,EAAuBC,iBAAvB;;AAEA,QAAMI,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,KAAD,EAAqB;AAChDP,kBAAY,CAAC,IAAIQ,KAAJ,CAAUD,KAAV,CAAD,CAAZ;AACD,KAFD;;AAGAT,YAAQ,CAACG,EAAT,CAAY,YAAZ,EAA0BK,oBAA1B;;AAEA,QAAMG,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACL,OAAD,EAA0B;AACvDL,cAAQ,CAAC;AAAEK,eAAO,EAAEC,MAAM,CAACD,OAAD;AAAjB,OAAD,CAAR;AACD,KAFD;;AAGAN,YAAQ,CAACG,EAAT,CAAY,cAAZ,EAA4BQ,sBAA5B;;AAEA,QAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACC,QAAD,EAA6B;AAC7DZ,cAAQ,CAAC;AAAEY,gBAAQ,EAARA;AAAF,OAAD,CAAR;AACD,KAFD;;AAGAb,YAAQ,CAACG,EAAT,CAAY,iBAAZ,EAA+BS,yBAA/B;AAEA,WAAO,YAAK;AACVZ,cAAQ,CAACc,cAAT,CAAwB,SAAxB,EAAmCV,iBAAnC;AACAJ,cAAQ,CAACc,cAAT,CAAwB,YAAxB,EAAsCN,oBAAtC;AACAR,cAAQ,CAACc,cAAT,CAAwB,cAAxB,EAAwCH,sBAAxC;AACAX,cAAQ,CAACc,cAAT,CAAwB,iBAAxB,EAA2CF,yBAA3C;AACD,KALD;AAMD;;AAED,SAAO;AAAA,WAAMG,SAAN;AAAA,GAAP;AACD","names":["subscribeToProviderEvents","provider","onUpdate","onDisconnect","on","onConnectListener","info","chainId","Number","onDisconnectListener","error","Error","onChainChangedListener","onAccountsChangedListener","accounts","removeListener","undefined"],"sources":["../../../../src/helpers/eip1193.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}