{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/tomgerhardt/Dropbox/TOM/Web3 Consulting/Node Nation/DAG Nation/shuffle 042622/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _toConsumableArray from \"/Users/tomgerhardt/Dropbox/TOM/Web3 Consulting/Node Nation/DAG Nation/shuffle 042622/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function callsReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (action.type === 'ADD_CALLS') {\n    return [].concat(_toConsumableArray(state), _toConsumableArray(action.calls.map(function (call) {\n      return Object.assign(Object.assign({}, call), {\n        address: call.address.toLowerCase()\n      });\n    })));\n  } else {\n    var finalState = state;\n\n    var _iterator = _createForOfIteratorHelper(action.calls),\n        _step;\n\n    try {\n      var _loop = function _loop() {\n        var call = _step.value;\n        var index = finalState.findIndex(function (x) {\n          return x.address.toLowerCase() === call.address.toLowerCase() && x.data === call.data;\n        });\n\n        if (index !== -1) {\n          finalState = finalState.filter(function (_, i) {\n            return i !== index;\n          });\n        }\n      };\n\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        _loop();\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return finalState;\n  }\n}","map":{"version":3,"mappings":";;;AAoCA;;;AAGA,OAAM,SAAUA,YAAV,GAA4D;AAAA,MAArCC,KAAqC,uEAAlB,EAAkB;AAAA,MAAdC,MAAc;;AAChE,MAAIA,MAAM,CAACC,IAAP,KAAgB,WAApB,EAAiC;AAC/B,wCAAWF,KAAX,sBAAqBC,MAAM,CAACE,KAAP,CAAaC,GAAb,CAAiB,UAACC,IAAD;AAAA,aAAUC,gCAAMD,IAAN,GAAU;AAAEE,eAAO,EAAEF,IAAI,CAACE,OAAL,CAAaC,WAAb;AAAX,OAAV,CAAV;AAAA,KAAjB,CAArB;AACD,GAFD,MAEO;AACL,QAAIC,UAAU,GAAGT,KAAjB;;AADK,+CAEcC,MAAM,CAACE,KAFrB;AAAA;;AAAA;AAAA;AAAA,YAEME,IAFN;AAGH,YAAMK,KAAK,GAAGD,UAAU,CAACE,SAAX,CACZ,UAACC,CAAD;AAAA,iBAAOA,CAAC,CAACL,OAAF,CAAUC,WAAV,OAA4BH,IAAI,CAACE,OAAL,CAAaC,WAAb,EAA5B,IAA0DI,CAAC,CAACC,IAAF,KAAWR,IAAI,CAACQ,IAAjF;AAAA,SADY,CAAd;;AAGA,YAAIH,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChBD,oBAAU,GAAGA,UAAU,CAACK,MAAX,CAAkB,UAACC,CAAD,EAAIC,CAAJ;AAAA,mBAAUA,CAAC,KAAKN,KAAhB;AAAA,WAAlB,CAAb;AACD;AARE;;AAEL,0DAAiC;AAAA;AAOhC;AATI;AAAA;AAAA;AAAA;AAAA;;AAUL,WAAOD,UAAP;AACD;AACF","names":["callsReducer","state","action","type","calls","map","call","Object","address","toLowerCase","finalState","index","findIndex","x","data","filter","_","i"],"sources":["../../../../../../src/providers/chainState/common/callsReducer.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}