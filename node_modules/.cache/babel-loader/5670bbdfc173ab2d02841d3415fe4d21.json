{"ast":null,"code":"import _asyncToGenerator from \"/Users/tomgerhardt/Dropbox/TOM/Web3 Consulting/Node Nation/DAG Nation/shuffle 042622/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/tomgerhardt/Dropbox/TOM/Web3 Consulting/Node Nation/DAG Nation/shuffle 042622/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regeneratorRuntime from \"/Users/tomgerhardt/Dropbox/TOM/Web3 Consulting/Node Nation/DAG Nation/shuffle 042622/node_modules/@babel/runtime/regenerator/index.js\";\nimport { useEffect, useState } from 'react';\nimport { useEthers } from './useEthers';\n/**\n * @public\n */\n\nexport function useTokenList(tokenListURI, overrideChainId, tags) {\n  var _useEthers = useEthers(),\n      providerChainId = _useEthers.chainId;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      tokenList = _useState2[0],\n      setTokenList = _useState2[1];\n\n  var chainId = overrideChainId || providerChainId;\n  useEffect(function () {\n    fetch(tokenListURI).then( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(response) {\n        var _yield$response$json, name, logoURI, tokens, errorMessage;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!response.ok) {\n                  _context.next = 10;\n                  break;\n                }\n\n                _context.next = 3;\n                return response.json();\n\n              case 3:\n                _yield$response$json = _context.sent;\n                name = _yield$response$json.name;\n                logoURI = _yield$response$json.logoURI;\n                tokens = _yield$response$json.tokens;\n                setTokenList({\n                  name: name,\n                  logoURI: logoURI,\n                  tokens: tokens.filter(function (token) {\n                    var sameChainId = token.chainId === chainId;\n\n                    if (!tags) {\n                      return sameChainId;\n                    }\n\n                    return sameChainId && token.tags && token.tags.some(function (tag) {\n                      return tags.includes(tag);\n                    });\n                  })\n                });\n                _context.next = 14;\n                break;\n\n              case 10:\n                _context.next = 12;\n                return response.text();\n\n              case 12:\n                errorMessage = _context.sent;\n                return _context.abrupt(\"return\", Promise.reject(new Error(errorMessage)));\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()).catch(function (err) {\n      console.log(err);\n      setTokenList(undefined);\n    });\n  }, [tokenListURI, chainId]);\n  return tokenList;\n}","map":{"version":3,"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,SAASC,SAAT,QAA0B,aAA1B;AAWA;;;;AAGA,OAAM,SAAUC,YAAV,CAAuBC,YAAvB,EAA6CC,eAA7C,EAAuEC,IAAvE,EAAsF;AAC1F,mBAAqCJ,SAAS,EAA9C;AAAA,MAAiBK,eAAjB,cAAQC,OAAR;;AACA,kBAAkCP,QAAQ,EAA1C;AAAA;AAAA,MAAOQ,SAAP;AAAA,MAAkBC,YAAlB;;AAEA,MAAMF,OAAO,GAAGH,eAAe,IAAIE,eAAnC;AAEAP,WAAS,CAAC,YAAK;AACbW,SAAK,CAACP,YAAD,CAAL,CACGQ,IADH;AAAA,0EACQ,iBAAOC,QAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,qBACAA,QAAQ,CAACC,EADT;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEsCD,QAAQ,CAACE,IAAT,EAFtC;;AAAA;AAAA;AAEMC,oBAFN,wBAEMA,IAFN;AAEYC,uBAFZ,wBAEYA,OAFZ;AAEqBC,sBAFrB,wBAEqBA,MAFrB;AAGFR,4BAAY,CAAC;AACXM,sBAAI,EAAJA,IADW;AAEXC,yBAAO,EAAPA,OAFW;AAGXC,wBAAM,EAAGA,MAAsB,CAACC,MAAvB,CAA8B,UAACC,KAAD,EAAU;AAC/C,wBAAMC,WAAW,GAAGD,KAAK,CAACZ,OAAN,KAAkBA,OAAtC;;AACA,wBAAI,CAACF,IAAL,EAAW;AACT,6BAAOe,WAAP;AACD;;AACD,2BAAOA,WAAW,IAAID,KAAK,CAACd,IAArB,IAA6Bc,KAAK,CAACd,IAAN,CAAWgB,IAAX,CAAgB,UAACC,GAAD;AAAA,6BAASjB,IAAI,CAACkB,QAAL,CAAcD,GAAd,CAAT;AAAA,qBAAhB,CAApC;AACD,mBANQ;AAHE,iBAAD,CAAZ;AAHE;AAAA;;AAAA;AAAA;AAAA,uBAeyBV,QAAQ,CAACY,IAAT,EAfzB;;AAAA;AAeIC,4BAfJ;AAAA,iDAgBKC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAUH,YAAV,CAAf,CAhBL;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADR;;AAAA;AAAA;AAAA;AAAA,SAoBGI,KApBH,CAoBS,UAACC,GAAD,EAAQ;AACbC,aAAO,CAACC,GAAR,CAAYF,GAAZ;AACArB,kBAAY,CAACwB,SAAD,CAAZ;AACD,KAvBH;AAwBD,GAzBQ,EAyBN,CAAC9B,YAAD,EAAeI,OAAf,CAzBM,CAAT;AA2BA,SAAOC,SAAP;AACD","names":["useEffect","useState","useEthers","useTokenList","tokenListURI","overrideChainId","tags","providerChainId","chainId","tokenList","setTokenList","fetch","then","response","ok","json","name","logoURI","tokens","filter","token","sameChainId","some","tag","includes","text","errorMessage","Promise","reject","Error","catch","err","console","log","undefined"],"sources":["../../../../src/hooks/useTokenList.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}