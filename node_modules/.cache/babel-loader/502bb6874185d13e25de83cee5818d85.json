{"ast":null,"code":"export function subscribeToNewBlock(provider, chainId, dispatch) {\n  if (provider && chainId !== undefined) {\n    var update = function update(blockNumber) {\n      return dispatch({\n        chainId: chainId,\n        blockNumber: blockNumber\n      });\n    };\n\n    provider.on('block', update);\n    provider.getBlockNumber().then(function (blockNumber) {\n      return update(blockNumber);\n    }, function (err) {\n      console.error(err);\n    });\n    return function () {\n      provider.off('block', update);\n    };\n  }\n\n  return function () {\n    return undefined;\n  };\n}","map":{"version":3,"mappings":"AAKA,OAAM,SAAUA,mBAAV,CACJC,QADI,EAEJC,OAFI,EAGJC,QAHI,EAGkC;AAEtC,MAAIF,QAAQ,IAAIC,OAAO,KAAKE,SAA5B,EAAuC;AACrC,QAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,WAAD;AAAA,aAAyBH,QAAQ,CAAC;AAAED,eAAO,EAAPA,OAAF;AAAWI,mBAAW,EAAXA;AAAX,OAAD,CAAjC;AAAA,KAAf;;AACAL,YAAQ,CAACM,EAAT,CAAY,OAAZ,EAAqBF,MAArB;AAEAJ,YAAQ,CAACO,cAAT,GAA0BC,IAA1B,CACE,UAACH,WAAD;AAAA,aAAiBD,MAAM,CAACC,WAAD,CAAvB;AAAA,KADF,EAEE,UAACI,GAAD,EAAQ;AACNC,aAAO,CAACC,KAAR,CAAcF,GAAd;AACD,KAJH;AAOA,WAAO,YAAK;AACVT,cAAQ,CAACY,GAAT,CAAa,OAAb,EAAsBR,MAAtB;AACD,KAFD;AAGD;;AAED,SAAO;AAAA,WAAMD,SAAN;AAAA,GAAP;AACD","names":["subscribeToNewBlock","provider","chainId","dispatch","undefined","update","blockNumber","on","getBlockNumber","then","err","console","error","off"],"sources":["../../../../../../src/providers/blockNumber/common/subscribeToNewBlock.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}